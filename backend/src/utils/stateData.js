// const data =  [
//     {
//         "id": 1,
//         "state_name_slug": "andaman-and-nicobar-islands",
//         "StateCode": "35",
//         "StateVersion": "1",
//         "StateNameEnglish": "Andaman And Nicobar Islands",
//         "StateNameLocal": "Andaman And Nicobar Islands",
//         "Census2001Code": "35",
//         "Census2011Code": "35",
//         "StateorUT": "U",
//         "updated_at": "2024-03-21T04:01:00.000000Z"
//     },
//     {
//         "id": 2,
//         "state_name_slug": "andhra-pradesh",
//         "StateCode": "28",
//         "StateVersion": "2",
//         "StateNameEnglish": "Andhra Pradesh",
//         "StateNameLocal": "Andhra Pradesh",
//         "Census2001Code": "28",
//         "Census2011Code": "28",
//         "StateorUT": "S",
//         "updated_at": "2024-03-21T04:01:00.000000Z"
//     },
//     {
//         "id": 3,
//         "state_name_slug": "arunachal-pradesh",
//         "StateCode": "12",
//         "StateVersion": "1",
//         "StateNameEnglish": "Arunachal Pradesh",
//         "StateNameLocal": "Arunachal Pradesh",
//         "Census2001Code": "12",
//         "Census2011Code": "12",
//         "StateorUT": "S",
//         "updated_at": "2024-03-21T04:01:00.000000Z"
//     },
//     {
//         "id": 4,
//         "state_name_slug": "assam",
//         "StateCode": "18",
//         "StateVersion": "1",
//         "StateNameEnglish": "Assam",
//         "StateNameLocal": "Assam",
//         "Census2001Code": "18",
//         "Census2011Code": "18",
//         "StateorUT": "S",
//         "updated_at": "2024-03-21T04:01:00.000000Z"
//     },
//     {
//         "id": 5,
//         "state_name_slug": "bihar",
//         "StateCode": "10",
//         "StateVersion": "1",
//         "StateNameEnglish": "Bihar",
//         "StateNameLocal": "Bihar",
//         "Census2001Code": "10",
//         "Census2011Code": "10",
//         "StateorUT": "S",
//         "updated_at": "2024-03-21T04:01:00.000000Z"
//     },
//     {
//         "id": 6,
//         "state_name_slug": "chandigarh",
//         "StateCode": "4",
//         "StateVersion": "1",
//         "StateNameEnglish": "Chandigarh",
//         "StateNameLocal": "Chandigarh",
//         "Census2001Code": "04",
//         "Census2011Code": "04",
//         "StateorUT": "U",
//         "updated_at": "2024-03-21T04:01:00.000000Z"
//     },
//     {
//         "id": 7,
//         "state_name_slug": "chhattisgarh",
//         "StateCode": "22",
//         "StateVersion": "1",
//         "StateNameEnglish": "Chhattisgarh",
//         "StateNameLocal": "Chhattisgarh",
//         "Census2001Code": "22",
//         "Census2011Code": "22",
//         "StateorUT": "S",
//         "updated_at": "2024-03-21T04:01:00.000000Z"
//     },
//     {
//         "id": 8,
//         "state_name_slug": "delhi",
//         "StateCode": "7",
//         "StateVersion": "1",
//         "StateNameEnglish": "Delhi",
//         "StateNameLocal": "Delhi",
//         "Census2001Code": "07",
//         "Census2011Code": "07",
//         "StateorUT": "U",
//         "updated_at": "2024-03-21T04:01:00.000000Z"
//     },
//     {
//         "id": 9,
//         "state_name_slug": "goa",
//         "StateCode": "30",
//         "StateVersion": "1",
//         "StateNameEnglish": "Goa",
//         "StateNameLocal": "Goa",
//         "Census2001Code": "30",
//         "Census2011Code": "30",
//         "StateorUT": "S",
//         "updated_at": "2024-03-21T04:01:00.000000Z"
//     },
//     {
//         "id": 10,
//         "state_name_slug": "gujarat",
//         "StateCode": "24",
//         "StateVersion": "1",
//         "StateNameEnglish": "Gujarat",
//         "StateNameLocal": "Gujarat",
//         "Census2001Code": "24",
//         "Census2011Code": "24",
//         "StateorUT": "S",
//         "updated_at": "2024-03-21T04:01:00.000000Z"
//     },
//     {
//         "id": 11,
//         "state_name_slug": "haryana",
//         "StateCode": "6",
//         "StateVersion": "1",
//         "StateNameEnglish": "Haryana",
//         "StateNameLocal": "Haryana",
//         "Census2001Code": "06",
//         "Census2011Code": "06",
//         "StateorUT": "S",
//         "updated_at": "2024-03-21T04:01:00.000000Z"
//     },
//     {
//         "id": 12,
//         "state_name_slug": "himachal-pradesh",
//         "StateCode": "2",
//         "StateVersion": "1",
//         "StateNameEnglish": "Himachal Pradesh",
//         "StateNameLocal": "Himachal Pradesh",
//         "Census2001Code": "02",
//         "Census2011Code": "02",
//         "StateorUT": "S",
//         "updated_at": "2024-03-21T04:01:00.000000Z"
//     },
//     {
//         "id": 13,
//         "state_name_slug": "jammu-and-kashmir",
//         "StateCode": "1",
//         "StateVersion": "3",
//         "StateNameEnglish": "Jammu And Kashmir",
//         "StateNameLocal": "Jammu And Kashmir",
//         "Census2001Code": "01",
//         "Census2011Code": "01",
//         "StateorUT": "U",
//         "updated_at": "2024-03-21T04:01:00.000000Z"
//     },
//     {
//         "id": 14,
//         "state_name_slug": "jharkhand",
//         "StateCode": "20",
//         "StateVersion": "1",
//         "StateNameEnglish": "Jharkhand",
//         "StateNameLocal": "Jharkhand",
//         "Census2001Code": "20",
//         "Census2011Code": "20",
//         "StateorUT": "S",
//         "updated_at": "2024-03-21T04:01:00.000000Z"
//     },
//     {
//         "id": 15,
//         "state_name_slug": "karnataka",
//         "StateCode": "29",
//         "StateVersion": "1",
//         "StateNameEnglish": "Karnataka",
//         "StateNameLocal": "Karnataka",
//         "Census2001Code": "29",
//         "Census2011Code": "29",
//         "StateorUT": "S",
//         "updated_at": "2024-03-21T04:01:00.000000Z"
//     },
//     {
//         "id": 16,
//         "state_name_slug": "kerala",
//         "StateCode": "32",
//         "StateVersion": "1",
//         "StateNameEnglish": "Kerala",
//         "StateNameLocal": "Kerala",
//         "Census2001Code": "32",
//         "Census2011Code": "32",
//         "StateorUT": "S",
//         "updated_at": "2024-03-21T04:01:00.000000Z"
//     },
//     {
//         "id": 17,
//         "state_name_slug": "ladakh",
//         "StateCode": "37",
//         "StateVersion": "1",
//         "StateNameEnglish": "Ladakh",
//         "StateNameLocal": "Ladakh",
//         "Census2001Code": "",
//         "Census2011Code": "00",
//         "StateorUT": "U",
//         "updated_at": "2024-03-21T04:01:00.000000Z"
//     },
//     {
//         "id": 18,
//         "state_name_slug": "lakshadweep",
//         "StateCode": "31",
//         "StateVersion": "1",
//         "StateNameEnglish": "Lakshadweep",
//         "StateNameLocal": "Lakshadweep",
//         "Census2001Code": "31",
//         "Census2011Code": "31",
//         "StateorUT": "U",
//         "updated_at": "2024-03-21T04:01:00.000000Z"
//     },
//     {
//         "id": 19,
//         "state_name_slug": "madhya-pradesh",
//         "StateCode": "23",
//         "StateVersion": "1",
//         "StateNameEnglish": "Madhya Pradesh",
//         "StateNameLocal": "Madhya Pradesh",
//         "Census2001Code": "23",
//         "Census2011Code": "23",
//         "StateorUT": "S",
//         "updated_at": "2024-03-21T04:01:00.000000Z"
//     },
//     {
//         "id": 20,
//         "state_name_slug": "maharashtra",
//         "StateCode": "27",
//         "StateVersion": "1",
//         "StateNameEnglish": "Maharashtra",
//         "StateNameLocal": "Maharashtra",
//         "Census2001Code": "27",
//         "Census2011Code": "27",
//         "StateorUT": "S",
//         "updated_at": "2024-03-21T04:01:00.000000Z"
//     },
//     {
//         "id": 21,
//         "state_name_slug": "manipur",
//         "StateCode": "14",
//         "StateVersion": "1",
//         "StateNameEnglish": "Manipur",
//         "StateNameLocal": "Manipur",
//         "Census2001Code": "14",
//         "Census2011Code": "14",
//         "StateorUT": "S",
//         "updated_at": "2024-03-21T04:01:00.000000Z"
//     },
//     {
//         "id": 22,
//         "state_name_slug": "meghalaya",
//         "StateCode": "17",
//         "StateVersion": "1",
//         "StateNameEnglish": "Meghalaya",
//         "StateNameLocal": "Meghalaya",
//         "Census2001Code": "17",
//         "Census2011Code": "17",
//         "StateorUT": "S",
//         "updated_at": "2024-03-21T04:01:00.000000Z"
//     },
//     {
//         "id": 23,
//         "state_name_slug": "mizoram",
//         "StateCode": "15",
//         "StateVersion": "1",
//         "StateNameEnglish": "Mizoram",
//         "StateNameLocal": "Mizoram",
//         "Census2001Code": "15",
//         "Census2011Code": "15",
//         "StateorUT": "S",
//         "updated_at": "2024-03-21T04:01:00.000000Z"
//     },
//     {
//         "id": 24,
//         "state_name_slug": "nagaland",
//         "StateCode": "13",
//         "StateVersion": "1",
//         "StateNameEnglish": "Nagaland",
//         "StateNameLocal": "Nagaland",
//         "Census2001Code": "13",
//         "Census2011Code": "13",
//         "StateorUT": "S",
//         "updated_at": "2024-03-21T04:01:00.000000Z"
//     },
//     {
//         "id": 25,
//         "state_name_slug": "odisha",
//         "StateCode": "21",
//         "StateVersion": "1",
//         "StateNameEnglish": "Odisha",
//         "StateNameLocal": "Odisha",
//         "Census2001Code": "21",
//         "Census2011Code": "21",
//         "StateorUT": "S",
//         "updated_at": "2024-03-21T04:01:00.000000Z"
//     },
//     {
//         "id": 26,
//         "state_name_slug": "puducherry",
//         "StateCode": "34",
//         "StateVersion": "1",
//         "StateNameEnglish": "Puducherry",
//         "StateNameLocal": "Puducherry",
//         "Census2001Code": "34",
//         "Census2011Code": "34",
//         "StateorUT": "U",
//         "updated_at": "2024-03-21T04:01:00.000000Z"
//     },
//     {
//         "id": 27,
//         "state_name_slug": "punjab",
//         "StateCode": "3",
//         "StateVersion": "1",
//         "StateNameEnglish": "Punjab",
//         "StateNameLocal": "Punjab",
//         "Census2001Code": "03",
//         "Census2011Code": "03",
//         "StateorUT": "S",
//         "updated_at": "2024-03-21T04:01:00.000000Z"
//     },
//     {
//         "id": 28,
//         "state_name_slug": "rajasthan",
//         "StateCode": "8",
//         "StateVersion": "1",
//         "StateNameEnglish": "Rajasthan",
//         "StateNameLocal": "Rajasthan",
//         "Census2001Code": "08",
//         "Census2011Code": "08",
//         "StateorUT": "S",
//         "updated_at": "2024-03-21T04:01:00.000000Z"
//     },
//     {
//         "id": 29,
//         "state_name_slug": "sikkim",
//         "StateCode": "11",
//         "StateVersion": "1",
//         "StateNameEnglish": "Sikkim",
//         "StateNameLocal": "Sikkim",
//         "Census2001Code": "11",
//         "Census2011Code": "11",
//         "StateorUT": "S",
//         "updated_at": "2024-03-21T04:01:00.000000Z"
//     },
//     {
//         "id": 30,
//         "state_name_slug": "tamil-nadu",
//         "StateCode": "33",
//         "StateVersion": "1",
//         "StateNameEnglish": "Tamil Nadu",
//         "StateNameLocal": "Tamil Nadu",
//         "Census2001Code": "33",
//         "Census2011Code": "33",
//         "StateorUT": "S",
//         "updated_at": "2024-03-21T04:01:00.000000Z"
//     },
//     {
//         "id": 31,
//         "state_name_slug": "telangana",
//         "StateCode": "36",
//         "StateVersion": "1",
//         "StateNameEnglish": "Telangana",
//         "StateNameLocal": "Telangana",
//         "Census2001Code": "",
//         "Census2011Code": "00",
//         "StateorUT": "S",
//         "updated_at": "2024-03-21T04:01:00.000000Z"
//     },
//     {
//         "id": 32,
//         "state_name_slug": "the-dadra-and-nagar-haveli-and-daman-and-diu",
//         "StateCode": "38",
//         "StateVersion": "1",
//         "StateNameEnglish": "The Dadra And Nagar Haveli And Daman And Diu",
//         "StateNameLocal": "The Dadra And Nagar Haveli And Daman And Diu",
//         "Census2001Code": "",
//         "Census2011Code": "",
//         "StateorUT": "U",
//         "updated_at": "2024-03-21T04:01:00.000000Z"
//     },
//     {
//         "id": 33,
//         "state_name_slug": "tripura",
//         "StateCode": "16",
//         "StateVersion": "1",
//         "StateNameEnglish": "Tripura",
//         "StateNameLocal": "Tripura",
//         "Census2001Code": "16",
//         "Census2011Code": "16",
//         "StateorUT": "S",
//         "updated_at": "2024-03-21T04:01:00.000000Z"
//     },
//     {
//         "id": 35,
//         "state_name_slug": "uttar-pradesh",
//         "StateCode": "9",
//         "StateVersion": "1",
//         "StateNameEnglish": "Uttar Pradesh",
//         "StateNameLocal": "Uttar Pradesh",
//         "Census2001Code": "09",
//         "Census2011Code": "09",
//         "StateorUT": "S",
//         "updated_at": "2024-03-21T04:01:00.000000Z"
//     },
//     {
//         "id": 34,
//         "state_name_slug": "uttarakhand",
//         "StateCode": "5",
//         "StateVersion": "1",
//         "StateNameEnglish": "Uttarakhand",
//         "StateNameLocal": "Uttarakhand",
//         "Census2001Code": "05",
//         "Census2011Code": "05",
//         "StateorUT": "S",
//         "updated_at": "2024-03-21T04:01:00.000000Z"
//     },
//     {
//         "id": 36,
//         "state_name_slug": "west-bengal",
//         "StateCode": "19",
//         "StateVersion": "1",
//         "StateNameEnglish": "West Bengal",
//         "StateNameLocal": "West Bengal",
//         "Census2001Code": "19",
//         "Census2011Code": "19",
//         "StateorUT": "S",
//         "updated_at": "2024-03-21T04:01:00.000000Z"
//     }
// ]

import prisma from './PrismaClient.js'
async function addStateData(){
    try {
        let data = await prisma.$queryRaw`select * from public."District"`
        // console.log(data);   
        // let count = 0
        // let response = await fetch(`https://api.mportal.in/api/location/subdistricts?district_id=${Number(708)}`)
        //     response = await response.json()
        //     console.log(response.body)
    
        for (let i in data){
            console.log(data[i].district_code);
            let response = await fetch(`https://api.mportal.in/api/location/subdistricts?district_id=${Number(data[i].district_code)}`)
           try {
            response = await response.json()
           } catch (error) {
                continue
           }
            console.log(response.body)
            
            let responseData=response.body.data
            for (let j in responseData){
            
                    await prisma.$queryRaw`insert into public."SubDistrict" (sub_district_id,name,district_id,sub_district_code) values (${responseData[j].id},${responseData[j].SubDistrictName},${data[i].district_id},${responseData[j].SubDistrictCode})`
                    
            }
            
            
        }
    } catch (error) {
        console.log(error.message);
        
    }
    // console.log(count);
    
    
    // response = await response.json()
    // let data=response.body.data
    // for (let i in response.body.data){
        
    //     await prisma.$queryRaw`insert into public."District" (district_id,name,state_id) values (${data[i].id},${data[i].DistrictName},${1})`
        
    // }

}

addStateData()